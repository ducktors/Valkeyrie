
> valkeyrie@0.0.3 benchmark /Users/matteo/Dev/ducktors/valkeyrie
> tsx ./benchmark/index.ts

Running all benchmarks...

Running basic operation benchmarks...
[90mclk: ~2.88 GHz[0m
[90mcpu: Apple M1 Max[0m
[90mruntime: node 22.14.0 (arm64-darwin)[0m

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
set - small value (10B)      [1m[33m  7.12 Âµs[0m[1m/iter[0m [90m  7.21 Âµs[0m [36m          [0m[33mâ–ˆ[0m[35m          [0m
                        [90m([0m[36m6.59 Âµs[0m[90m â€¦ [0m[35m7.93 Âµs[0m[90m)[0m [90m  7.68 Âµs[0m [36m   â–…     â–…[0m[33mâ–ˆ[0m[35m       â–… â–…[0m
                    [90m([0m[33m  2.89 kb[0m[90m â€¦ [0m[33m  2.98 kb[0m[90m) [0m[33m  2.96 kb[0m [36mâ–‡â–‡â–‡â–ˆâ–‡â–â–‡â–‡â–‡â–ˆ[0m[33mâ–ˆ[0m[35mâ–‡â–â–â–â–â–â–â–ˆâ–â–ˆ[0m

set - medium value (1KB)     [1m[33m 12.46 Âµs[0m[1m/iter[0m [90m 13.49 Âµs[0m [36m           [0m[33m [0m[35m        â–ˆ[0m
                       [90m([0m[36m9.64 Âµs[0m[90m â€¦ [0m[35m14.84 Âµs[0m[90m)[0m [90m 14.56 Âµs[0m [36mâ–…â–…     â–…â–…â–…â–…[0m[33m [0m[35m  â–… â–…   â–ˆ[0m
                    [90m([0m[33m  2.90 kb[0m[90m â€¦ [0m[33m  2.90 kb[0m[90m) [0m[33m  2.90 kb[0m [36mâ–ˆâ–ˆâ–â–â–â–â–â–ˆâ–ˆâ–ˆâ–ˆ[0m[33mâ–[0m[35mâ–â–â–ˆâ–â–ˆâ–â–â–â–ˆ[0m

set - large value (64KB)     [1m[33m 55.11 Âµs[0m[1m/iter[0m [90m 58.40 Âµs[0m [36mâ–ˆ â–ˆ     [0m[33m [0m[35m            [0m
                     [90m([0m[36m41.34 Âµs[0m[90m â€¦ [0m[35m106.27 Âµs[0m[90m)[0m [90m 73.88 Âµs[0m [36mâ–ˆ â–ˆ     [0m[33m [0m[35m            [0m
                    [90m([0m[33m188.54  b[0m[90m â€¦ [0m[33m203.97  b[0m[90m) [0m[33m196.15  b[0m [36mâ–ˆâ–ˆâ–ˆâ–â–â–ˆâ–â–[0m[33mâ–[0m[35mâ–â–ˆâ–â–â–â–â–â–â–â–ˆâ–â–ˆ[0m

get - small value (10B)      [1m[33m  4.03 Âµs[0m[1m/iter[0m [90m  4.07 Âµs[0m [36m         â–ˆâ–„[0m[33m [0m[35m         [0m
                        [90m([0m[36m3.65 Âµs[0m[90m â€¦ [0m[35m4.60 Âµs[0m[90m)[0m [90m  4.35 Âµs[0m [36m      â–…â–…â–…â–ˆâ–ˆ[0m[33mâ–…[0m[35mâ–ˆ        [0m
                    [90m([0m[33m 78.60  b[0m[90m â€¦ [0m[33m  3.51 kb[0m[90m) [0m[33m470.08  b[0m [36mâ–…â–â–â–â–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[0m[33mâ–ˆ[0m[35mâ–ˆâ–…â–…â–â–…â–ˆâ–…â–â–ˆ[0m

get - medium value (1KB)     [1m[33m  4.40 Âµs[0m[1m/iter[0m [90m  4.64 Âµs[0m [36m    â–ˆ    [0m[33m [0m[35m           [0m
                        [90m([0m[36m3.96 Âµs[0m[90m â€¦ [0m[35m5.08 Âµs[0m[90m)[0m [90m  4.96 Âµs[0m [36m â–‚â–‚â–‡â–ˆâ–‚â–‚  [0m[33mâ–‚[0m[35m â–‚â–‚ â–‡â–‚     [0m
                    [90m([0m[33m192.86  b[0m[90m â€¦ [0m[33m  2.31 kb[0m[90m) [0m[33m  1.45 kb[0m [36mâ–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–[0m[33mâ–ˆ[0m[35mâ–â–ˆâ–ˆâ–â–ˆâ–ˆâ–â–†â–†â–†â–†[0m

get - large value (64KB)     [1m[33m 31.75 Âµs[0m[1m/iter[0m [90m 31.43 Âµs[0m [36m  â–ˆ   [0m[33m [0m[35m              [0m
                      [90m([0m[36m26.70 Âµs[0m[90m â€¦ [0m[35m51.60 Âµs[0m[90m)[0m [90m 42.35 Âµs[0m [36m â–…â–ˆ   [0m[33m [0m[35m              [0m
                    [90m([0m[33m 43.79  b[0m[90m â€¦ [0m[33m  6.18 kb[0m[90m) [0m[33m  4.28 kb[0m [36mâ–‡â–ˆâ–ˆâ–‡â–â–[0m[33mâ–‡[0m[35mâ–â–‡â–â–â–â–â–â–â–â–â–â–â–â–‡[0m

delete                       [1m[33m 11.19 Âµs[0m[1m/iter[0m [90m 11.43 Âµs[0m [36m            [0m[33mâ–ˆ[0m[35m â–ˆ      [0m
                      [90m([0m[36m10.49 Âµs[0m[90m â€¦ [0m[35m11.78 Âµs[0m[90m)[0m [90m 11.61 Âµs[0m [36mâ–… â–… â–…       [0m[33mâ–ˆ[0m[35mâ–…â–ˆ  â–… â–…â–…[0m
                    [90m([0m[33m504.03  b[0m[90m â€¦ [0m[33m619.22  b[0m[90m) [0m[33m604.60  b[0m [36mâ–ˆâ–â–ˆâ–â–ˆâ–â–â–â–â–â–â–[0m[33mâ–ˆ[0m[35mâ–ˆâ–ˆâ–â–â–ˆâ–â–ˆâ–ˆ[0m

KvU64 - set                  [1m[33m  8.45 Âµs[0m[1m/iter[0m [90m  8.64 Âµs[0m [36mâ–ˆ  â–ˆ  â–ˆ  [0m[33m [0m[35m   â–ˆ       [0m
                        [90m([0m[36m7.99 Âµs[0m[90m â€¦ [0m[35m9.79 Âµs[0m[90m)[0m [90m  8.97 Âµs[0m [36mâ–ˆâ–… â–ˆâ–…â–…â–ˆâ–… [0m[33m [0m[35m   â–ˆâ–…  â–…  â–…[0m
                    [90m([0m[33m  3.00 kb[0m[90m â€¦ [0m[33m  3.00 kb[0m[90m) [0m[33m  3.00 kb[0m [36mâ–ˆâ–ˆâ–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–[0m[33mâ–[0m[35mâ–â–â–â–ˆâ–ˆâ–â–â–ˆâ–â–â–ˆ[0m

KvU64 - get                  [1m[33m  4.44 Âµs[0m[1m/iter[0m [90m  4.59 Âµs[0m [36m   â–ˆ â–…[0m[33m [0m[35m              [0m
                        [90m([0m[36m3.96 Âµs[0m[90m â€¦ [0m[35m6.29 Âµs[0m[90m)[0m [90m  5.46 Âµs[0m [36m â–† â–ˆ â–ˆ[0m[33m [0m[35m              [0m
                    [90m([0m[33m133.32  b[0m[90m â€¦ [0m[33m  3.56 kb[0m[90m) [0m[33m468.58  b[0m [36mâ–ˆâ–ˆâ–â–ˆâ–„â–ˆ[0m[33mâ–ˆ[0m[35mâ–â–ˆâ–ˆâ–ˆâ–â–â–ˆâ–â–â–â–â–â–â–„[0m

Running list operation benchmarks...
[90mclk: ~2.81 GHz[0m
[90mcpu: Apple M1 Max[0m
[90mruntime: node 22.14.0 (arm64-darwin)[0m

benchmark                    avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
-------------------------------------------- -------------------------------
list - small (10 items)       [1m[33m 37.95 Âµs[0m[1m/iter[0m [90m 35.08 Âµs[0m [36m â–ˆ [0m[33m [0m[35m                 [0m
                        [90m([0m[36m30.13 Âµs[0m[90m â€¦ [0m[35m1.94 ms[0m[90m)[0m [90m 80.58 Âµs[0m [36m â–ˆ [0m[33m [0m[35m                 [0m
                     [90m([0m[33m  1.73 kb[0m[90m â€¦ [0m[33m537.77 kb[0m[90m) [0m[33m 32.11 kb[0m [36mâ–‡â–ˆâ–ˆ[0m[33mâ–„[0m[35mâ–‚â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–[0m

list - medium (100 items)     [1m[33m253.05 Âµs[0m[1m/iter[0m [90m228.71 Âµs[0m [36mâ–ˆ[0m[33m [0m[35m                   [0m
                       [90m([0m[36m202.00 Âµs[0m[90m â€¦ [0m[35m2.39 ms[0m[90m)[0m [90m  1.72 ms[0m [36mâ–ˆ[0m[33m [0m[35m                   [0m
                     [90m([0m[33m254.00 kb[0m[90m â€¦ [0m[33m462.38 kb[0m[90m) [0m[33m258.26 kb[0m [36mâ–ˆ[0m[33mâ–…[0m[35mâ–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–[0m

list - large (1000 items)     [1m[33m  1.19 ms[0m[1m/iter[0m [90m  1.12 ms[0m [36mâ–„â–ˆ[0m[33m [0m[35m                  [0m
                       [90m([0m[36m956.71 Âµs[0m[90m â€¦ [0m[35m3.34 ms[0m[90m)[0m [90m  2.93 ms[0m [36mâ–ˆâ–ˆ[0m[33m [0m[35m                  [0m
                     [90m([0m[33m492.33 kb[0m[90m â€¦ [0m[33m  1.66 mb[0m[90m) [0m[33m  1.24 mb[0m [36mâ–ˆâ–ˆ[0m[33mâ–ˆ[0m[35mâ–„â–â–â–â–â–â–â–â–â–â–â–‚â–‚â–‚â–‚â–‚â–‚â–[0m

list - with limit (10)        [1m[33m 36.98 Âµs[0m[1m/iter[0m [90m 38.01 Âµs[0m [36mâ–ˆ         [0m[33m [0m[35m        â–ˆ [0m
                       [90m([0m[36m35.72 Âµs[0m[90m â€¦ [0m[35m39.10 Âµs[0m[90m)[0m [90m 38.16 Âµs[0m [36mâ–ˆ â–…â–…â–…â–…   â–…[0m[33m [0m[35m   â–…    â–ˆâ–…[0m
                     [90m([0m[33m  1.32 kb[0m[90m â€¦ [0m[33m  4.55 kb[0m[90m) [0m[33m  4.18 kb[0m [36mâ–ˆâ–â–ˆâ–ˆâ–ˆâ–ˆâ–â–â–â–ˆ[0m[33mâ–[0m[35mâ–â–â–â–ˆâ–â–â–â–â–ˆâ–ˆ[0m

list - with limit (100)       [1m[33m254.24 Âµs[0m[1m/iter[0m [90m229.00 Âµs[0m [36mâ–ˆ[0m[33m [0m[35m                   [0m
                       [90m([0m[36m203.00 Âµs[0m[90m â€¦ [0m[35m2.50 ms[0m[90m)[0m [90m  1.81 ms[0m [36mâ–ˆ[0m[33m [0m[35m                   [0m
                     [90m([0m[33m190.84 kb[0m[90m â€¦ [0m[33m605.53 kb[0m[90m) [0m[33m259.19 kb[0m [36mâ–ˆ[0m[33mâ–„[0m[35mâ–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–[0m

list - reverse                [1m[33m265.05 Âµs[0m[1m/iter[0m [90m240.33 Âµs[0m [36mâ–ˆ[0m[33m [0m[35m                   [0m
                       [90m([0m[36m208.46 Âµs[0m[90m â€¦ [0m[35m2.44 ms[0m[90m)[0m [90m  1.70 ms[0m [36mâ–ˆ[0m[33m [0m[35m                   [0m
                     [90m([0m[33m 39.51 kb[0m[90m â€¦ [0m[33m579.28 kb[0m[90m) [0m[33m268.50 kb[0m [36mâ–ˆ[0m[33mâ–…[0m[35mâ–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–[0m

Array.fromAsync - small list  [1m[33m 37.66 Âµs[0m[1m/iter[0m [90m 37.85 Âµs[0m [36m      â–ˆ      [0m[33m [0m[35m       [0m
                       [90m([0m[36m36.68 Âµs[0m[90m â€¦ [0m[35m41.51 Âµs[0m[90m)[0m [90m 38.23 Âµs[0m [36mâ–…â–… â–…â–…â–…â–ˆ      [0m[33mâ–…[0m[35m â–…  â–… â–…[0m
                     [90m([0m[33m  3.58 kb[0m[90m â€¦ [0m[33m  3.63 kb[0m[90m) [0m[33m  3.61 kb[0m [36mâ–ˆâ–ˆâ–â–ˆâ–ˆâ–ˆâ–ˆâ–â–â–â–â–â–[0m[33mâ–ˆ[0m[35mâ–â–ˆâ–â–â–ˆâ–â–ˆ[0m

Array.fromAsync - medium list [1m[33m264.92 Âµs[0m[1m/iter[0m [90m236.42 Âµs[0m [36mâ–ˆ[0m[33m [0m[35m                   [0m
                       [90m([0m[36m205.21 Âµs[0m[90m â€¦ [0m[35m2.78 ms[0m[90m)[0m [90m  1.93 ms[0m [36mâ–ˆ[0m[33m [0m[35m                   [0m
                     [90m([0m[33m250.22 kb[0m[90m â€¦ [0m[33m251.18 kb[0m[90m) [0m[33m250.35 kb[0m [36mâ–ˆ[0m[33mâ–„[0m[35mâ–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–[0m

Running atomic operation benchmarks...
[90mclk: ~2.85 GHz[0m
[90mcpu: Apple M1 Max[0m
[90mruntime: node 22.14.0 (arm64-darwin)[0m

benchmark                          avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
-------------------------------------------------- -------------------------------
atomic - single set                 [1m[33m 11.09 Âµs[0m[1m/iter[0m [90m 11.37 Âµs[0m [36mâ–ˆ â–ˆ       [0m[33m [0m[35m   â–ˆ      [0m
                             [90m([0m[36m10.50 Âµs[0m[90m â€¦ [0m[35m11.73 Âµs[0m[90m)[0m [90m 11.68 Âµs[0m [36mâ–ˆ â–ˆ   â–…   [0m[33mâ–…[0m[35m   â–ˆâ–…â–…   â–…[0m
                           [90m([0m[33m  3.51 kb[0m[90m â€¦ [0m[33m  3.65 kb[0m[90m) [0m[33m  3.57 kb[0m [36mâ–ˆâ–â–ˆâ–â–â–â–ˆâ–â–â–[0m[33mâ–ˆ[0m[35mâ–â–â–â–ˆâ–ˆâ–ˆâ–â–â–â–ˆ[0m

atomic - multiple set (5)           [1m[33m 52.35 Âµs[0m[1m/iter[0m [90m 52.82 Âµs[0m [36m            [0m[33m [0m[35mâ–ˆ       [0m
                             [90m([0m[36m47.77 Âµs[0m[90m â€¦ [0m[35m61.10 Âµs[0m[90m)[0m [90m 55.46 Âµs[0m [36m            [0m[33mâ–…[0m[35mâ–ˆ       [0m
                           [90m([0m[33m  1.92 kb[0m[90m â€¦ [0m[33m 12.52 kb[0m[90m) [0m[33m  7.22 kb[0m [36mâ–‡â–‡â–â–â–â–‡â–â–‡â–â–â–â–[0m[33mâ–ˆ[0m[35mâ–ˆâ–â–â–â–â–â–â–‡[0m

atomic - check and set              [1m[33m  8.26 Âµs[0m[1m/iter[0m [90m  8.42 Âµs[0m [36m         â–ˆ â–ˆ[0m[33mâ–ˆ[0m[35m  â–ˆ     [0m
                               [90m([0m[36m7.78 Âµs[0m[90m â€¦ [0m[35m8.80 Âµs[0m[90m)[0m [90m  8.59 Âµs[0m [36mâ–… â–… â–…  â–… â–ˆ â–ˆ[0m[33mâ–ˆ[0m[35m  â–ˆâ–…â–…â–… â–…[0m
                           [90m([0m[33m  6.23 kb[0m[90m â€¦ [0m[33m  6.60 kb[0m[90m) [0m[33m  6.49 kb[0m [36mâ–ˆâ–â–ˆâ–â–ˆâ–â–â–ˆâ–â–ˆâ–â–ˆ[0m[33mâ–ˆ[0m[35mâ–â–â–ˆâ–ˆâ–ˆâ–ˆâ–â–ˆ[0m

atomic - delete                     [1m[33m 13.73 Âµs[0m[1m/iter[0m [90m 13.84 Âµs[0m [36mâ–ˆ â–ˆ   â–ˆ â–ˆ  [0m[33mâ–ˆ[0m[35m  â–ˆ  â–ˆ  â–ˆ[0m
                             [90m([0m[36m13.51 Âµs[0m[90m â€¦ [0m[35m13.93 Âµs[0m[90m)[0m [90m 13.90 Âµs[0m [36mâ–ˆ â–ˆ   â–ˆ â–ˆ  [0m[33mâ–ˆ[0m[35m  â–ˆ  â–ˆ  â–ˆ[0m
                           [90m([0m[33m  6.47 kb[0m[90m â€¦ [0m[33m  6.47 kb[0m[90m) [0m[33m  6.47 kb[0m [36mâ–ˆâ–â–ˆâ–â–â–â–ˆâ–â–ˆâ–â–[0m[33mâ–ˆ[0m[35mâ–â–â–ˆâ–â–â–ˆâ–â–â–ˆ[0m

atomic - sum                        [1m[33m 12.71 Âµs[0m[1m/iter[0m [90m 12.76 Âµs[0m [36m  â–ˆ       [0m[33m [0m[35m          [0m
                             [90m([0m[36m12.53 Âµs[0m[90m â€¦ [0m[35m13.03 Âµs[0m[90m)[0m [90m 12.88 Âµs[0m [36mâ–… â–ˆ  â–…â–…   [0m[33m [0m[35m â–…â–…  â–…   â–…[0m
                           [90m([0m[33m319.91  b[0m[90m â€¦ [0m[33m  3.87 kb[0m[90m) [0m[33m868.53  b[0m [36mâ–ˆâ–â–ˆâ–â–â–ˆâ–ˆâ–â–â–[0m[33mâ–[0m[35mâ–â–ˆâ–ˆâ–â–â–ˆâ–â–â–â–ˆ[0m

atomic - max                        [1m[33m 12.71 Âµs[0m[1m/iter[0m [90m 12.79 Âµs[0m [36m       â–ˆ      [0m[33m [0m[35m   â–ˆ  [0m
                             [90m([0m[36m12.46 Âµs[0m[90m â€¦ [0m[35m13.01 Âµs[0m[90m)[0m [90m 12.83 Âµs[0m [36mâ–…    â–… â–ˆ      [0m[33mâ–…[0m[35m  â–…â–ˆ â–…[0m
                           [90m([0m[33m450.38  b[0m[90m â€¦ [0m[33m  1.70 kb[0m[90m) [0m[33m588.72  b[0m [36mâ–ˆâ–â–â–â–â–ˆâ–â–ˆâ–â–â–â–â–â–[0m[33mâ–ˆ[0m[35mâ–â–â–ˆâ–ˆâ–â–ˆ[0m

atomic - min                        [1m[33m 12.52 Âµs[0m[1m/iter[0m [90m 12.55 Âµs[0m [36m        â–ˆ [0m[33m [0m[35m          [0m
                             [90m([0m[36m12.30 Âµs[0m[90m â€¦ [0m[35m12.74 Âµs[0m[90m)[0m [90m 12.73 Âµs[0m [36mâ–…   â–…  â–…â–ˆ [0m[33mâ–…[0m[35mâ–…    â–…   â–…[0m
                           [90m([0m[33m123.25  b[0m[90m â€¦ [0m[33m355.36  b[0m[90m) [0m[33m198.47  b[0m [36mâ–ˆâ–â–â–â–ˆâ–â–â–ˆâ–ˆâ–[0m[33mâ–ˆ[0m[35mâ–ˆâ–â–â–â–â–ˆâ–â–â–â–ˆ[0m

atomic - complex (mixed operations) [1m[33m 17.24 Âµs[0m[1m/iter[0m [90m 17.64 Âµs[0m [36m          [0m[33m [0m[35m  â–ˆ       [0m
                             [90m([0m[36m16.06 Âµs[0m[90m â€¦ [0m[35m18.59 Âµs[0m[90m)[0m [90m 18.42 Âµs[0m [36mâ–… â–… â–…â–…â–…â–…  [0m[33m [0m[35mâ–… â–ˆ   â–…  â–…[0m
                           [90m([0m[33m  5.08 kb[0m[90m â€¦ [0m[33m  5.24 kb[0m[90m) [0m[33m  5.19 kb[0m [36mâ–ˆâ–â–ˆâ–â–ˆâ–ˆâ–ˆâ–ˆâ–â–[0m[33mâ–[0m[35mâ–ˆâ–â–ˆâ–â–â–â–ˆâ–â–â–ˆ[0m
